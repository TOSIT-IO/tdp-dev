# common
export TDP_COLLECTION_PATH={{ tdp_collection_path }}
export TDP_RUN_DIRECTORY=.
export TDP_VARS=./tdp_vars

{% if tdp_lib.enabled %}
# tdp-lib
export TDP_DATABASE_DSN={{ tdp_database_dsn }}
{% endif %}

{% if tdp_server.enabled %}
# tdp-server
export PROJECT_NAME=tdp-server
export BACKEND_CORS_ORIGINS="[{{ backend_cors_origins }}]"
export SERVER_NAME=localhost
export SERVER_HOST=http://localhost:{{ tdp_server.port }}
export OPENID_CONNECT_DISCOVERY_URL=http://localhost:8080/auth/realms/tdp_server/.well-known/openid-configuration
export OPENID_CLIENT_ID=tdp_server
export DATABASE_DSN={{ tdp_database_dsn }}
export UVICORN_PORT={{ tdp_server.port }}
export DO_NOT_USE_IN_PRODUCTION_DISABLE_TOKEN_CHECK=True
{% endif %}

# Fix : ERROR: Ansible could not initialize the preferred locale
export LC_ALL=C.UTF-8
